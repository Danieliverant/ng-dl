!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("rxjs"),require("rxjs/operators")):"function"==typeof define&&define.amd?define("@ng-dl/delayed-dragover",["exports","@angular/core","rxjs","rxjs/operators"],t):t(((e="undefined"!=typeof globalThis?globalThis:e||self)["ng-dl"]=e["ng-dl"]||{},e["ng-dl"]["delayed-dragover"]={}),e.ng.core,e.rxjs,e.rxjs.operators)}(this,(function(e,t,r,a){"use strict";var n="Hover Me",o=function(){function e(){this.text=n}return e.prototype.changeText=function(){this.text+=" - Hovered With Delay!"},e.prototype.changePreText=function(){this.resetText(),this.text+=" - Hovered With Pre Delay!"},e.prototype.resetText=function(){this.text=n},e}();o.decorators=[{type:t.Component,args:[{selector:"dl-delayed-dragover",template:'\n    <h3>Dragover for 1 second</h3>\n    <div dlDelayedDragover (dragoverDelayed)="changeText()" (dragleave)="resetText()">{{ text }}</div>\n    <h3>Dragover for 2 seconds see the pre-delayed and another second for the delay</h3>\n    <div dlDelayedDragover [dlDragoverDelayStep]="2000" (preDragoverDelayed)="changePreText()"\n         (dragoverDelayed)="changeText()" (dragleave)="resetText()">{{ text }}</div>\n  '}]}];var d=function(){function e(e){this.element=e,this.delay=1e3,this.delayStep=0,this.dragoverDelayed=new t.EventEmitter,this.preDragoverDelayed=new t.EventEmitter,this.dragoverCounter=0}return Object.defineProperty(e.prototype,"class",{get:function(){return this._class},set:function(e){this._class=e||"drag-over"},enumerable:!1,configurable:!0}),e.prototype.ngOnInit=function(){var e=this,t=r.fromEvent(this.element.nativeElement,"dragleave").pipe(a.tap((function(t){return e.dragoverCounter--}))),n=r.fromEvent(this.element.nativeElement,"dragenter").pipe(a.tap((function(t){return e.dragoverCounter++})));r.merge(t,n).pipe(a.tap((function(){return e.element.nativeElement.classList.remove(e.class)})),a.switchMap((function(t){return e.dragoverCounter>0?r.timer(e.delay).pipe(a.tap((function(){return e.element.nativeElement.classList.add(e.class)})),a.tap((function(){return e.delayStep&&e.preDragoverDelayed.emit()})),a.delay(e.delayStep)):r.EMPTY}))).subscribe(this.dragoverDelayed)},e}();d.decorators=[{type:t.Directive,args:[{selector:"[dlDelayedDragover]"}]}],d.ctorParameters=function(){return[{type:t.ElementRef}]},d.propDecorators={class:[{type:t.Input,args:["dlDragover"]}],delay:[{type:t.Input,args:["dlDragoverDelay"]}],delayStep:[{type:t.Input,args:["dlDragoverDelayStep"]}],dragoverDelayed:[{type:t.Output}],preDragoverDelayed:[{type:t.Output}]};var l=function(){};l.decorators=[{type:t.NgModule,args:[{declarations:[o,d],imports:[],exports:[o,d]}]}],e.DelayedDragoverComponent=o,e.DelayedDragoverDirective=d,e.DelayedDragoverModule=l,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=ng-dl-delayed-dragover.umd.min.js.map