{"version":3,"file":"ng-dl-numeric-input.js","sources":["../../../projects/numeric-input/src/lib/locale.tokens.ts","../../../projects/numeric-input/src/lib/locale.service.ts","../../../projects/numeric-input/src/lib/numeric-input.utils.ts","../../../projects/numeric-input/src/lib/numeric-input.directive.ts","../../../projects/numeric-input/src/lib/numeric-input.module.ts","../../../projects/numeric-input/src/public-api.ts","../../../projects/numeric-input/src/ng-dl-numeric-input.ts"],"sourcesContent":["import { InjectionToken } from '@angular/core';\n\nexport const NUMERIC_INPUT_LOCALE: InjectionToken<string | string[]> = new InjectionToken<string | string[]>(\n  'NUMERIC_INPUT_LOCALE'\n);\n","import { Inject, Injectable, Optional } from '@angular/core';\nimport { NUMERIC_INPUT_LOCALE } from './locale.tokens';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class LocaleService {\n\n  constructor(@Inject(NUMERIC_INPUT_LOCALE) @Optional() private locales?: string | string[]) { }\n\n  public getDecimalSeparators(): string[] {\n    const locales = this.getLocales();\n    const options: Intl.NumberFormatOptions = { useGrouping: false };\n    return locales.map(locale => this.localizedToDecimalSeparator(this.localizeDecimal(1.1, locale, options)));\n  }\n\n  public getThousandSeparators(): string[] {\n    const locales = this.getLocales();\n    const options: Intl.NumberFormatOptions = { useGrouping: true };\n    return locales.map(locale => this.localizedToThousandSeparator(this.localizeDecimal(1234.5, locale, options)));\n  }\n\n  public localizeNumber(value: number): string {\n    return value.toLocaleString(this.getLocales());\n  }\n\n  private localizedToDecimalSeparator(localizedParts: Intl.NumberFormatPart[]): string {\n    return localizedParts.find(part => part.type === 'decimal').value;\n  }\n\n  private localizedToThousandSeparator(localizedParts: Intl.NumberFormatPart[]): string {\n    return localizedParts.find(part => part.type === 'group').value;\n  }\n\n  private localizeDecimal(value: number, locale: string, options?: Intl.NumberFormatOptions): Intl.NumberFormatPart[] {\n    return Intl.NumberFormat(locale, options).formatToParts(value);\n  }\n\n  private get localeFromBrowser(): string {\n    return navigator.languages ? navigator.languages[0] : navigator.language;\n  }\n\n  private getLocales(): string[] {\n    try {\n      const supportedLocales: string[] = Intl.NumberFormat.supportedLocalesOf(this.locales);\n      return supportedLocales;\n    } catch {\n      return [this.localeFromBrowser];\n    }\n  }\n\n}\n","const UNSIGNED_INTEGER_REGEX = '^[0-9]*$';\nconst SIGNED_DOUBLE_REGEX = '^-?[0-9]+(.[0-9]+)?$';\nconst NUMBERS_REGEX = /\\d/g;\nconst CHROME_MIN_VALIDATION_MESSAGE = 'Value must be greater than or equal to';\nconst CHROME_MAX_VALIDATION_MESSAGE = 'Value must be less than or equal to';\nconst DEFAULT_NUMERIC_VALUE = 0;\nconst DEFAULT_ACTION_KEYS = ['a', 'c', 'v', 'x'];\nconst DEFAULT_ALLOWED_KEYS = [\n  'Backspace',\n  'ArrowLeft',\n  'ArrowRight',\n  'Escape',\n  'Tab',\n];\n\n\n/**\n * Override input attributes for validation and mobile support.\n * @param input - input element\n */\nexport function overrideInputType(input: HTMLInputElement): void {\n  input.setAttribute('type', 'text');\n  input.setAttribute('inputmode', 'decimal');\n  input.removeAttribute('pattern');\n}\n\n/**\n * Get formatted value, if the value is a valid numeric value it will be formatted if not a default value will be returned.\n * @param value - value to format.\n * @param decimalSeparator - decimal separator to replace (if needed).\n * @param thousandsSeparator - thousands separator to remove (if needed).\n */\nexport function getFormattedValue(\n  value: string,\n  decimalSeparator: string,\n  thousandsSeparator: string\n): number {\n  const formatted = Number(\n    parseValue(value, decimalSeparator, thousandsSeparator).replace(decimalSeparator, '.')\n  );\n  return isNaN(formatted) ? DEFAULT_NUMERIC_VALUE : formatted;\n}\n\n/**\n * Check if the pressed key is allowed in the numeric input field.\n * @param e - keyboard event.\n * @param decimalSeparators - array of supported separators.\n */\nexport function isAllowedKey(\n  e: KeyboardEvent,\n  decimalSeparators: string[]\n): boolean {\n  const key: string = getKeyName(e);\n  const allowedKeys = getAllowedKeys(e, decimalSeparators);\n  return (\n    allowedKeys.includes(key) ||\n    (DEFAULT_ACTION_KEYS.includes(key) && isActionKey(e)) ||\n    isNumberKey(e)\n  );\n}\n\n/**\n * Align all browsers to validate as same as Chrome browser does.\n * Validation will be after the field loose focus and with Chrome default messages.\n * @param el - input element.\n * @param value - input value.\n * @param min - minimum valid value.\n * @param max - maximum valid value.\n */\nexport function validate(\n  el: HTMLInputElement,\n  value: number,\n  min?: number,\n  max?: number\n): boolean {\n  if (value < min) {\n    el.setCustomValidity(`${CHROME_MIN_VALIDATION_MESSAGE} ${min}.`);\n    return false;\n  }\n\n  if (value > max) {\n    el.setCustomValidity(`${CHROME_MAX_VALIDATION_MESSAGE} ${max}.`);\n    return false;\n  }\n\n  el.setCustomValidity('');\n  return true;\n}\n\n/**\n * support for old browsers.\n */\nfunction mapKeyCodeToKeyName(keyCode: number): string {\n  if (keyCode && String.fromCharCode) {\n    switch (keyCode) {\n      case 8:\n        return 'Backspace';\n      case 9:\n        return 'Tab';\n      case 27:\n        return 'Escape';\n      case 37:\n        return 'ArrowLeft';\n      case 39:\n        return 'ArrowRight';\n      case 188:\n        return ',';\n      case 190:\n        return '.';\n      case 109:\n      case 173:\n      case 189:\n        return '-';\n      default:\n        return String.fromCharCode(keyCode);\n    }\n  }\n  return '';\n}\n\n/**\n * Add zero to decimal values, replaces the decimal separator and remove the thousand separator.\n * If the value is a numeric value the parsed value will be returned, if not - the default numeric value.\n * @param value - value to parse.\n * @param decimalSeparator - decimal separator to replace (if needed).\n * @param thousandsSeparator - thousands separator to remove (if needed).\n */\nfunction parseValue(value: string, decimalSeparator: string, thousandSeparator: string): string {\n  value = replaceDecimalSeparator(value, decimalSeparator);\n  value = appendZeroToDecimal(value, decimalSeparator);\n  value = removeThousandsSeparator(value, thousandSeparator);\n  const isValid: boolean = new RegExp(SIGNED_DOUBLE_REGEX).test(value);\n  return isValid ? value : DEFAULT_NUMERIC_VALUE.toString();\n}\n\nfunction replaceDecimalSeparator(value: string, decimalSeparator: string): string {\n  const separator = value.replace('-', '').replace(NUMBERS_REGEX, '');\n  return value.replace(separator || decimalSeparator, decimalSeparator);\n}\n\nfunction appendZeroToDecimal(value: string, decimalSeparator: string): string {\n  const firstCharacter = value.charAt(0);\n  if (firstCharacter === decimalSeparator) {\n    return 0 + value;\n  }\n\n  const lastCharacter = value.charAt(value.length - 1);\n  if (lastCharacter === decimalSeparator) {\n    return value + 0;\n  }\n\n  return value;\n}\n\nfunction removeThousandsSeparator(value: string, thousandsSeparator: string): string {\n  return value.replace(thousandsSeparator, '');\n}\n\nfunction isActionKey(e: KeyboardEvent): boolean {\n  return e.ctrlKey || e.metaKey;\n}\n\nfunction getKeyName(e: KeyboardEvent): string {\n  return e.key || mapKeyCodeToKeyName(e.keyCode);\n}\n\nfunction isNumberKey(e: KeyboardEvent): boolean {\n  const key = getKeyName(e);\n  return new RegExp(UNSIGNED_INTEGER_REGEX).test(key);\n}\n\nfunction getAllowedKeys(\n  e: KeyboardEvent,\n  decimalSeparators: string[]\n): string[] {\n  const allowedKeys = [...DEFAULT_ALLOWED_KEYS];\n  const originalValue: string = (e.target as HTMLInputElement).value;\n  const cursorPosition: number =\n    (e.target as HTMLInputElement).selectionStart || 0;\n  const signExists = originalValue.includes('-');\n  const separatorExists = decimalSeparators.some((separator) =>\n    originalValue.includes(separator)\n  );\n\n  const separatorIsCloseToSign = signExists && cursorPosition <= 1;\n  if (!separatorIsCloseToSign && !separatorExists) {\n    allowedKeys.push(...decimalSeparators);\n  }\n\n  const firstCharacterIsSeparator = decimalSeparators.some(\n    (separator) => originalValue.charAt(0) === separator\n  );\n\n  if (!signExists && !firstCharacterIsSeparator && cursorPosition === 0) {\n    allowedKeys.push('-');\n  }\n\n  return allowedKeys;\n}\n","import {\n  AfterViewInit,\n  Directive,\n  ElementRef,\n  EventEmitter,\n  Input,\n  OnDestroy,\n  Optional,\n  Output,\n} from '@angular/core';\nimport { NgControl } from '@angular/forms';\nimport { fromEvent, merge, Observable, Subject } from 'rxjs';\nimport { map, takeUntil, tap } from 'rxjs/operators';\nimport { LocaleService } from './locale.service';\nimport {\n  getFormattedValue,\n  isAllowedKey,\n  overrideInputType,\n  validate,\n} from './numeric-input.utils';\n\n@Directive({\n  selector: '[dlNumericInput]',\n})\nexport class NumericInputDirective implements AfterViewInit, OnDestroy {\n  @Input() min: number;\n  @Input() max: number;\n  @Output() localized = new EventEmitter<string>();\n\n  private readonly decimalSeparators = this.localeService.getDecimalSeparators();\n  private readonly thousandSeparators = this.localeService.getThousandSeparators();\n  private readonly destroy$ = new Subject();\n\n  constructor(\n    private hostElement: ElementRef,\n    private localeService: LocaleService,\n    @Optional() private control?: NgControl\n  ) {}\n\n  ngAfterViewInit(): void {\n    overrideInputType(this.el);\n    this.onKeyDown();\n    this.onFormSubmit();\n    this.onValueChange();\n  }\n\n  ngOnDestroy(): void {\n    this.destroy$.next();\n  }\n\n  private setValue(value: string): void {\n    const formattedValue = getFormattedValue(value, this.decimalSeparator, this.thousandsSeparator);\n    this.localized.emit(this.localeService.localizeNumber(formattedValue));\n    this.el.value = formattedValue.toString();\n    if (this.control) {\n      this.control.control?.patchValue(formattedValue);\n    }\n  }\n\n  private onChange(): Observable<string> {\n    return fromEvent(this.el, 'change').pipe(map(() => this.el.value));\n  }\n\n  private onPaste(): Observable<string> {\n    return fromEvent(this.el, 'paste').pipe(\n      tap((e: ClipboardEvent) => e.preventDefault()),\n      map((e: ClipboardEvent) => e.clipboardData?.getData('text/plain') || '')\n    );\n  }\n\n  private onDrop(): Observable<string> {\n    return fromEvent(this.el, 'drop').pipe(\n      tap((e: DragEvent) => e.preventDefault()),\n      map((e: DragEvent) => e.dataTransfer?.getData('text') || '')\n    );\n  }\n\n  private onKeyDown(): void {\n    fromEvent(this.el, 'keydown')\n      .pipe(\n        takeUntil(this.destroy$),\n        tap((e: KeyboardEvent) => {\n          this.el.setCustomValidity('');\n          if (isAllowedKey(e, this.decimalSeparators)) {\n            return;\n          }\n          e.preventDefault();\n        })\n      )\n      .subscribe();\n  }\n\n  private onFormSubmit(): void {\n    if (this.el.form) {\n      fromEvent(this.el.form, 'submit')\n        .pipe(\n          takeUntil(this.destroy$),\n          tap((e) => {\n            const formattedValue = getFormattedValue(\n              this.el.value,\n              this.decimalSeparator,\n              this.thousandsSeparator\n            );\n            const isValid = validate(this.el, formattedValue, this.min, this.max);\n            if (!isValid) {\n              e.preventDefault();\n              this.el.reportValidity();\n            }\n          })\n        )\n        .subscribe();\n    }\n  }\n\n  private onValueChange(): void {\n    merge(this.onChange(), this.onDrop(), this.onPaste())\n      .pipe(takeUntil(this.destroy$))\n      .subscribe((value) => this.setValue(value));\n  }\n\n  private get el(): HTMLInputElement {\n    return this.hostElement.nativeElement;\n  }\n\n  private get decimalSeparator(): string {\n    return this.decimalSeparators[0];\n  }\n\n  private get thousandsSeparator(): string {\n    return this.thousandSeparators[0];\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { NumericInputDirective } from './numeric-input.directive';\n\n@NgModule({\n  declarations: [NumericInputDirective],\n  imports: [\n  ],\n  exports: [NumericInputDirective]\n})\nexport class NumericInputModule { }\n","/*\n * Public API Surface of numeric-input\n */\n\nexport * from './lib/numeric-input.module';\nexport * from './lib/locale.tokens';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n\nexport {LocaleService as ɵb} from './lib/locale.service';\nexport {NumericInputDirective as ɵa} from './lib/numeric-input.directive';"],"names":[],"mappings":"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"}